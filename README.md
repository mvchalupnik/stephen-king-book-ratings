# stephen-king-book-ratings
## Introduction
Stephen King is the author of 70+ horror novels and short story collections, but not all have been equally beloved by the public. Many horror aficionados prefer "vintage" Stephen King (1980s) to his more recent work. Some people say that nothing can top classics like The Shining, It, Misery, or The Stand. Has the quality of Stephen King's books decreased in recent years?

One might predict that factors like aging, becoming extremely wealthy and no longer needing to work very hard in life, or being so famous that your editors are too afraid to give too much criticism, might mean Stephen King's later works are have been lower in quality and so less well received by the public. But is this the case? Additionally, Stephen King has mentioned coming clean from a drug addiction after he wrote The Tommyknockers. Can we see if this had any effects on his work by comparing the average rating of his books written before The Tommyknockers and after The Tommyknockers?

To investigate this, I wrote a simple web scraper and plotting script.

As a measure for the quality of Stephen King's books, I used their average ratings on Goodreads.com. On Goodreads, users rate books between 1 and 5 stars, with 5 being the best possible rating, and 1 being the worst. (Note that the average Goodreads rating is not necessarily an accurate measure of book quality, as Goodreads users do not always appear to have great taste, and have rated The Tommyknockers incorrectly low, and The Green Mile inappropriately high).



## Instructions for running code
This code builds a CSV of Stephen King's bibliography of novels and short story collections from his Wikipedia page, then uses that list to build another CSV of Stephen King's books' titles, average ratings, and years published.

To generate the two CSV files and two plot files, run `main.py`.



## Conclusion 

A linear regression (and visual inspection) of the scatterplot of the average Goodreads ratings of Stephen King's books by year shows his work quality has apparently not decreased with age, at least according to Goodreads users.

<img src="data/stephen_king_books.png" width = "600">

<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script src="https://cdn.plot.ly/plotly-2.9.0.min.js"></script>                <div id="cd296553-42dc-41c6-a774-73dc2323e959" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("cd296553-42dc-41c6-a774-73dc2323e959")) {                    Plotly.newPlot(                        "cd296553-42dc-41c6-a774-73dc2323e959",                        [{"customdata":[["The Shining"],["It"],["The Stand"],["Misery"],["Carrie"],["The Gunslinger"],["Pet Sematary"],["11/22/63"],["'Salem's Lot"],["The Green Mile"],["Mr. Mercedes"],["Under the Dome"],["The Outsider"],["The Drawing of the Three"],["Cujo"],["Doctor Sleep"],["The Institute"],["Needful Things"],["The Waste Lands"],["Christine"],["Different Seasons"],["Firestarter"],["The Dead Zone"],["Wizard and Glass"],["Cell"],["Bag of Bones"],["Wolves of the Calla"],["The Dark Tower"],["Night Shift"],["Dreamcatcher"],["Song of Susannah"],["Joyland"],["Insomnia"],["Dolores Claiborne"],["The Girl Who Loved Tom Gordon"],["Finders Keepers"],["Gerald's Game"],["Desperation"],["The Dark Half"],["Billy Summers"],["The Tommyknockers"],["The Talisman"],["Fairy Tale"],["Skeleton Crew"],["The Eyes of the Dragon"],["The Running Man"],["Duma Key"],["End of Watch"],["Revival"],["Later"],["Full Dark, No Stars"],["Elevation"],["Four Past Midnight"],["Rose Madder"],["Everything's Eventual"],["Hearts in Atlantis"],["The Wind Through the Keyhole"],["Nightmares and Dreamscapes"],["If It Bleeds"],["Lisey's Story"],["Sleeping Beauties"],["Gwendy's Button Box"],["Black House"],["From a Buick 8"],["The Bazaar of Bad Dreams"],["Cycle of the Werewolf"],["Just After Sunset"],["The Colorado Kid"],["Gwendy's Final Task"],["Thinner"],["The Long Walk"],["The Regulators"],["Blaze"],["Rage"],["Roadwork"]],"hovertemplate":"Date published=%{x}<br>Average rating=%{y}<br>Title=%{customdata[0]}<extra></extra>","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"mode":"markers","name":"","orientation":"v","showlegend":false,"x":[1977,1986,1978,1987,1974,1982,1983,2011,1975,1996,2014,2009,2018,1987,1981,2013,2019,1991,1991,1983,1982,1980,1979,1997,2006,1998,2003,2004,1978,2001,2004,2013,1994,1992,1999,2015,1992,1996,1989,2021,1987,1984,2022,1985,1987,1982,2008,2016,2014,2021,2011,2018,1990,1995,2002,1999,2012,1993,2020,2006,2017,2017,2001,2002,2015,1983,2008,2005,2022,1984,1979,1996,2007,1977,1981],"xaxis":"x","y":[4.26,4.25,4.34,4.21,3.98,3.93,4.04,4.32,4.093351330705064,4.47,3.99,3.91,4.0,4.23,3.76,4.12,4.2,3.95,4.25,3.82,4.35,3.91,3.95,4.25,3.66,3.91,4.19,4.27,4.03,3.65,3.99,3.93,3.83,3.91,3.62,4.06,3.56,3.85,3.8,4.23,3.58,4.12,4.17,3.97,3.94,3.89,3.96,4.09,3.8,3.99,4.07,3.66,3.94,3.74,3.97,3.85,4.15,3.95,4.0,3.7,3.73,3.92,4.03,3.47,3.92,3.66,3.88,3.38,4.11,3.76,4.09,3.72,3.75,3.74,3.6],"yaxis":"y","type":"scatter"},{"hovertemplate":"x=%{x}<br>y=%{y}<extra></extra>","legendgroup":"","line":{"color":"darksalmon","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":[1977,1986,1978,1987,1974,1982,1983,2011,1975,1996,2014,2009,2018,1987,1981,2013,2019,1991,1991,1983,1982,1980,1979,1997,2006,1998,2003,2004,1978,2001,2004,2013,1994,1992,1999,2015,1992,1996,1989,2021,1987,1984,2022,1985,1987,1982,2008,2016,2014,2021,2011,2018,1990,1995,2002,1999,2012,1993,2020,2006,2017,2017,2001,2002,2015,1983,2008,2005,2022,1984,1979,1996,2007,1977,1981],"xaxis":"x","y":[3.9452287021562777,3.9479889239668955,3.9455353934685684,3.948295615279186,3.9443086282194053,3.946762158717732,3.947068850030023,3.955656206774166,3.944615319531696,3.951055837089804,3.9565762807110385,3.9550428241495847,3.957803045960202,3.948295615279186,3.9464554674054413,3.956269589398748,3.9581097372724927,3.9495223805283493,3.9495223805283493,3.947068850030023,3.946762158717732,3.94614877609315,3.9458420847808595,3.9513625284020946,3.954122750212712,3.9516692197143852,3.9532026762758394,3.95350936758813,3.9455353934685684,3.9525892936512577,3.95350936758813,3.956269589398748,3.950442454465222,3.9498290718406404,3.9519759110266763,3.9568829720233296,3.9498290718406404,3.951055837089804,3.948908997903768,3.9587231198970745,3.948295615279186,3.9473755413423137,3.9590298112093656,3.9476822326546044,3.948295615279186,3.946762158717732,3.9547361328372936,3.9571896633356203,3.9565762807110385,3.9587231198970745,3.955656206774166,3.957803045960202,3.9492156892160586,3.950749145777513,3.9528959849635488,3.9519759110266763,3.955962898086457,3.950135763152931,3.958416428584784,3.954122750212712,3.957496354647911,3.957496354647911,3.9525892936512577,3.9528959849635488,3.9568829720233296,3.947068850030023,3.9547361328372936,3.953816058900421,3.9590298112093656,3.9473755413423137,3.9458420847808595,3.951055837089804,3.954429441525003,3.9452287021562777,3.9464554674054413],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Date published"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Average rating"}},"legend":{"tracegroupgap":0},"title":{"text":"Stephen King Book Ratings"}},                        {"responsive": true}                    )                };                            </script>        </div>

Future work might entail looking at the reception of his books among newspaper book reviewers.

## Acknowledgements

ChatGPT wrote the first version of this code (see the first commit, which was all ChatGPT). The code, while impressively close to working, did not actually completely work.

<img src="data/chatgpt.png" width = "600">